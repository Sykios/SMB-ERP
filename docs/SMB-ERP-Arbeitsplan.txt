================================================================================
                        SMB ERP PROJEKT - VOLLSTÄNDIGER ARBEITSPLAN
                              Datum: 4. August 2025
================================================================================

PROJEKT ÜBERSICHT
================================================================================
Projektname:     SMB ERP System
Technologie:     ASP.NET Core 8.0 mit Razor Pages
Datenbank:       Entity Framework Core mit SQLite
Zielsetzung:     Vollständiges ERP-System mit lokalem Deployment

HAUPTMODULE
================================================================================
✓ Benutzerverwaltung (ASP.NET Identity)
✓ Kundenverwaltung (CRUD-Operationen)
✓ Rechnungserstellung und -verwaltung
✓ PDF-Export (QuestPDF)
✓ E-Mail-Versand (SMTP)
✓ Produkt-/Dienstleistungsverwaltung
✓ Dashboard und Reporting

GESCHÄTZTE PROJEKTDAUER: 45 Arbeitstage

================================================================================
PHASE 1: GRUNDLAGEN & SETUP (2-3 Tage)
================================================================================

1.1 PROJEKT-SETUP
------------------
[✓] ASP.NET Core Projekt erstellt
[✓] NuGet Pakete installiert
    - Microsoft.EntityFrameworkCore.Sqlite
    - QuestPDF
    - MailKit
    - Microsoft.AspNetCore.Identity.EntityFrameworkCore
[✓] Ordnerstruktur angelegt
[✓] Git Repository initialisiert
[✓] Erste Git Commits mit conventional commit messages
[✓] GitHub Repository erstellen und verknüpfen

1.2 BASIS-KONFIGURATION
-----------------------
[✓] appsettings.json konfigurieren
    - E-Mail-Einstellungen (SMTP)
    - Datenbankverbindung
    - Firmeninformationen
    - Logging-Konfiguration
[✓] Error Handling Setup
[✓] HTTPS/Security Konfiguration
[✓] Entwicklungsumgebung optimieren

================================================================================
PHASE 2: DATENBANK & MODELLE (3-5 Tage)
================================================================================

2.1 ENTITY FRAMEWORK SETUP
---------------------------
Befehle für Datenbank-Setup:
> dotnet ef migrations add InitialCreate
> dotnet ef database update

Aufgaben:
[✓] ApplicationDbContext erweitern
[✓] Datenmodelle erstellen:
    [✓] Customer.cs (Kundendaten)
        - Firmenname, Kontaktperson, E-Mail
        - Adresse (Straße, PLZ, Stadt, Land)
        - Telefon, USt-ID
        - Erstellungsdatum, Status
    
    [✓] Invoice.cs (Rechnung)
        - Rechnungsnummer, Datum, Fälligkeitsdatum
        - Kunde-Referenz
        - Netto-, MwSt-, Gesamtbetrag
        - Status (Entwurf, Versendet, Bezahlt, Überfällig)
        - Bemerkungen
    
    [✓] InvoiceItem.cs (Rechnungsposition)
        - Beschreibung, Menge, Einheit
        - Einzelpreis, Rabatt
        - Gesamtpreis
        - Produkt-Referenz (optional)
    
    [✓] Item.cs (Produkt/Dienstleistung Basisklasse)
        - Name, Produktnummer, Beschreibung
        - Verkaufs-/Einkaufspreis
        - Kategorie, MwSt-Satz

            [✓] Product.cs (Produkt)
                - Lagerbestände
                - Barcode
                - Lagerort
                - Gewicht, Abmessungen
                - Lieferant / Hersteller

            [✓] Service.cs (Dienstleistung)
                - Geschätze Dauer
                - Abrechnungsdaten/Zeiten
                - Einmalig oder Dauerauftrag?
                - Arbeitsort
                - Material-, Reisekosten
    
    [✓] Company.cs (Firmeneinstellungen)
        - Firmenname, Adresse
        - Kontaktdaten (Telefon, E-Mail, Website)
        - USt-ID, Handelsregister
        - Bankverbindung (IBAN, BIC)
    
    [✓] EmailTemplate.cs (E-Mail-Vorlagen)
        - Vorlagenname, Betreff, Inhalt
        - Typ (Rechnung, Mahnung, etc.)

[✓] Entity Configurations (Fluent API)
[✓] Seed Data für Entwicklung
[✓] Index-Optimierungen

2.2 REPOSITORY PATTERN
-----------------------
[✓] ICustomerRepository Interface + Implementierung
[✓] IInvoiceRepository Interface + Implementierung  
[✓] IItemRepository Interface + Implementierung
[✓] IGenericRepository für gemeinsame Operationen

================================================================================
PHASE 3: SERVICES & BUSINESS LOGIC (5-7 Tage)
================================================================================

3.1 CORE SERVICES
------------------
[ ] CustomerService.cs
    - CRUD-Operationen für Kunden
    - Kundensuchfunktionen
    - Datenvalidierung
    - Duplikatsprüfung

[ ] InvoiceService.cs
    - Rechnungserstellung und -bearbeitung
    - Automatische Berechnungen (Netto, MwSt, Gesamt)
    - Rechnungsnummern-Generierung
    - Status-Verwaltung
    - Fälligkeitsprüfung

[ ] ProductService.cs
    - Produktverwaltung
    - Lagerverwaltung
    - Preishistorie
    - Kategorieverwaltung

[ ] EmailService.cs
    - SMTP-Konfiguration
    - E-Mail-Versand mit Anhängen
    - Template-System
    - Fehlerbehandlung und Retry-Logik

[ ] PdfService.cs
    - QuestPDF Integration
    - Österreichische Rechnungsvorlagen
    - Logo-Integration
    - Wasserzeichen für Entwürfe

3.2 UTILITY SERVICES
---------------------
[ ] NumberingService.cs
    - Rechnungsnummern (fortlaufend, jahresbasiert)
    - Kundennummern
    - Produktnummern

[ ] VATCalculationService.cs
    - Österreichische MwSt-Sätze
    - Netto/Brutto-Berechnungen
    - Rundungslogik

[ ] ValidationService.cs
    - Business Rules
    - Datenvalidierung
    - USt-ID Prüfung
    - E-Mail-Validierung

[ ] FileService.cs
    - Datei-Upload/Download
    - Logo-Verwaltung
    - Backup-Funktionen

3.3 DEPENDENCY INJECTION
-------------------------
[ ] Services in Program.cs registrieren
[ ] Service Lifetimes definieren (Singleton, Scoped, Transient)
[ ] Configuration Options Pattern implementieren
[ ] Health Checks konfigurieren

================================================================================
PHASE 4: BENUTZERAUTHENTIFIZIERUNG (2-3 Tage)
================================================================================

4.1 ASP.NET IDENTITY SETUP
---------------------------
[ ] Identity Konfiguration in Program.cs
[ ] Custom User Model erweitern
    - Firmen-Zuordnung
    - Letzte Anmeldung
    - Benutzer-Präferenzen

[ ] Rollen definieren:
    - Administrator (Vollzugriff)
    - Benutzer (Eingeschränkter Zugriff)
    - Buchhalter (Nur Rechnungen)

[ ] Authorization Policies
    - Rollenbasierte Zugriffskontrolle
    - Resource-basierte Autorisierung

4.2 BENUTZEROBERFLÄCHE
----------------------
[ ] Login/Logout Funktionalität
[ ] Benutzerregistrierung (nur für Admins)
[ ] Passwort Reset per E-Mail
[ ] Benutzerverwaltung
    - Benutzer anlegen/bearbeiten/deaktivieren
    - Rollen zuweisen
    - Aktivitätsprotokolle

[ ] Zwei-Faktor-Authentifizierung (optional)

================================================================================
PHASE 5: KUNDENVERWALTUNG (4-5 Tage)
================================================================================

5.1 RAZOR PAGES
---------------
[ ] Pages/Customers/Index.cshtml
    - Kundenliste mit Pagination
    - Such- und Filterfunktionen
    - Sortierung nach verschiedenen Kriterien
    - Bulk-Aktionen

[ ] Pages/Customers/Create.cshtml
    - Formular für neue Kunden
    - Client-/Server-seitige Validierung
    - Adress-Validierung
    - USt-ID Prüfung

[ ] Pages/Customers/Edit.cshtml
    - Kundenbearbeitung
    - Änderungshistorie
    - Sicherheitsabfragen

[ ] Pages/Customers/Details.cshtml
    - Vollständige Kundenansicht
    - Rechnungshistorie
    - Kommunikationshistorie
    - Statistiken

[ ] Pages/Customers/Delete.cshtml
    - Löschbestätigung
    - Referenz-Prüfung (Rechnungen vorhanden?)
    - Soft Delete vs. Hard Delete

5.2 VIEWMODELS
--------------
[ ] CustomerListViewModel.cs
    - Pagination-Parameter
    - Such-/Filter-Kriterien
    - Sortierung

[ ] CustomerCreateViewModel.cs
    - Validierungsregeln
    - Dropdown-Listen
    - Standard-Werte

[ ] CustomerEditViewModel.cs
    - Änderungsverfolgung
    - Optimistic Locking

5.3 ERWEITERTE FEATURES
-----------------------
[ ] Excel/CSV Export
[ ] Datenimport aus Excel
[ ] Duplikatserkennung
[ ] Kunden-Kategorisierung
[ ] Notizen und Anhänge
[ ] Aktivitätsprotokolle

================================================================================
PHASE 6: PRODUKTVERWALTUNG (3-4 Tage)
================================================================================

6.1 RAZOR PAGES
---------------
[ ] Pages/Products/Index.cshtml
[ ] Pages/Products/Create.cshtml
[ ] Pages/Products/Edit.cshtml
[ ] Pages/Products/Details.cshtml

6.2 FEATURES
------------
[ ] Produktkategorien
[ ] Preishistorie
[ ] Lagerbestand-Tracking
[ ] Lieferanten-Verwaltung
[ ] Bulk-Import via Excel
[ ] Barcode-Support
[ ] Produktbilder

================================================================================
PHASE 7: RECHNUNGSERSTELLUNG (7-10 Tage)
================================================================================

7.1 RECHNUNG GRUNDFUNKTIONEN
-----------------------------
[ ] Pages/Invoices/Index.cshtml
    - Rechnungsübersicht
    - Status-Filter
    - Datum-Filter
    - Kundenfilter
    - Suchfunktion

[ ] Pages/Invoices/Create.cshtml
    - Kunde auswählen
    - Rechnungspositionen hinzufügen
    - Automatische Berechnungen
    - Zahlungsbedingungen
    - Bemerkungen

[ ] Pages/Invoices/Edit.cshtml
    - Nur Entwürfe bearbeitbar
    - Versionskontrolle
    - Änderungsprotokoll

[ ] Pages/Invoices/Details.cshtml
    - Vollständige Rechnungsansicht
    - Zahlungshistorie
    - E-Mail-Historie
    - Aktionen (PDF, E-Mail, Kopieren)

7.2 RECHNUNGSLOGIK
------------------
[ ] Automatische Rechnungsnummern
    - Format: RG-YYYY-NNNN
    - Fortlaufende Nummerierung
    - Jahresbasierte Zurücksetzung

[ ] MwSt-Berechnung
    - 19% (Normalsatz)
    - 7% (Ermäßigter Satz)
    - 0% (Steuerbefreit)
    - Innergemeinschaftliche Lieferungen

[ ] Rabatte
    - Prozentuale Rabatte
    - Absolute Rabatte
    - Positionsbezogene Rabatte
    - Gesamtrabatt

[ ] Zahlungsbedingungen
    - Skonto bei Zahlung binnen X Tagen
    - Netto-Zahlungsziel
    - Mahngebühren

[ ] Status-Verwaltung
    - Entwurf → Versendet → Bezahlt
    - Überfälligkeits-Prüfung
    - Stornierung
    - Gutschriften

7.3 DYNAMISCHE RECHNUNGSPOSITIONEN
-----------------------------------
[ ] JavaScript für UI-Interaktivität
    - Positionen hinzufügen/entfernen
    - Echtzeit-Berechnungen
    - Produktsuche mit Autocomplete
    - Copy & Paste von Positionen

[ ] Produktauswahl
    - Dropdown mit Suche
    - Produktdetails anzeigen
    - Preise automatisch übernehmen
    - Lagerbestand prüfen

================================================================================
PHASE 8: PDF-EXPORT (4-5 Tage)
================================================================================

8.1 QUESTPDF INTEGRATION
-------------------------
[ ] Österreichische Rechnungsvorlage erstellen
    - DIN 5008 konform
    - Firmenlogo einbinden
    - Absender-/Empfänger-Bereich
    - Rechnungstabelle
    - Fußbereich mit Bankdaten
    - Generell noch auf alle Vorlagen und Normen prüfen

[ ] PDF-Styling
    - Corporate Design
    - Schriftarten
    - Farben und Layout
    - Responsive Tabellen

8.2 PDF FEATURES
-----------------
[ ] Verschiedene Dokumenttypen
    - Rechnung
    - Angebot
    - Lieferschein
    - Gutschrift

[ ] Wasserzeichen für Entwürfe
[ ] Seitennummerierung
[ ] PDF/A-Konformität für Archivierung
[ ] Batch-PDF-Generierung
[ ] Digitale Signatur (optional)

8.3 CUSTOMIZATION
------------------
[ ] Template-Editor für Admin
[ ] Verschiedene Layouts
[ ] Mehrsprachige PDFs
[ ] QR-Codes für Online-Zahlung

================================================================================
PHASE 9: E-MAIL INTEGRATION (3-4 Tage)
================================================================================

9.1 SMTP KONFIGURATION
-----------------------
[ ] SMTP-Einstellungen UI
    - Server, Port, Verschlüsselung
    - Benutzername, Passwort
    - Test-E-Mail Funktion
    - Verschiedene Provider (Gmail, Outlook, etc.)

[ ] E-Mail Templates
    - HTML/Text Templates
    - Platzhalter-System
    - Template-Editor
    - Mehrsprachige Templates

9.2 E-MAIL FEATURES
-------------------
[ ] Rechnungsversand
    - PDF-Anhang automatisch
    - Personalisierte Betreffzeile
    - BCC an eigene Adresse
    - Delivery-Status Tracking

[ ] E-Mail History
    - Versendete E-Mails protokollieren
    - Fehlschläge dokumentieren
    - Wiederversand-Funktion

[ ] Serien-E-Mails
    - Mehrere Rechnungen auf einmal
    - Mahnungen
    - Newsletter (optional)

9.3 ERWEITERTE FUNKTIONEN
--------------------------
[ ] E-Mail-Vorlagen-System
[ ] Automatische Mahnungen
[ ] Zahlungserinnerungen
[ ] Read-Receipts (optional)

================================================================================
PHASE 10: DASHBOARD & REPORTING (5-6 Tage)
================================================================================

10.1 DASHBOARD
--------------
[ ] Pages/Dashboard.cshtml
    - Übersichtseite nach Login
    - Widgets für wichtige KPIs
    - Schnellzugriff auf häufige Aktionen

[ ] Umsatz-Widgets
    - Monatlicher Umsatz
    - Jahresumsatz
    - Vergleich zum Vorjahr
    - Trend-Diagramme

[ ] Rechnungs-Widgets
    - Offene Rechnungen
    - Überfällige Rechnungen
    - Anzahl Rechnungen heute/diese Woche
    - Durchschnittlicher Rechnungsbetrag

[ ] Kunden-Widgets
    - Neue Kunden diese Woche
    - Top-Kunden nach Umsatz
    - Kundenwachstum

10.2 REPORTING
--------------
[ ] Umsatzberichte
    - Monats-/Jahresberichte
    - Kunden-spezifische Auswertungen
    - Produkt-Analysen
    - Diagramme und Charts

[ ] Steuerberichte
    - MwSt-Voranmeldung Daten
    - Umsatzsteuer-Zusammenfassung
    - Export für Steuerberater

[ ] Kundenberichte
    - Kundenumsätze
    - Zahlungsverhalten
    - Kundenentwicklung

[ ] Export-Funktionen
    - Excel-Export
    - PDF-Reports
    - CSV-Export
    - API für externe Tools

================================================================================
PHASE 11: UI/UX & DESIGN (3-4 Tage)
================================================================================

11.1 BOOTSTRAP ANPASSUNGEN
---------------------------
[ ] Corporate Design implementieren
    - Firmenfarben
    - Logo-Integration
    - Custom CSS

[ ] Deutsche Lokalisierung
    - Alle Texte auf Deutsch
    - Deutsche Datumsformate
    - Währung Euro
    - Deutsche Validierungsmeldungen

[ ] Responsive Design
    - Mobile-optimierte Layouts
    - Tablet-Unterstützung
    - Touch-freundliche Bedienung

11.2 NAVIGATION & LAYOUT
-------------------------
[ ] Hauptnavigation optimieren
    - Intuitive Menüstruktur
    - Breadcrumbs
    - Kontextuelle Aktionen

[ ] Sidebar für häufige Aktionen
    - Quick-Links
    - Letzte Aktivitäten
    - Favoriten

[ ] Accessibility
    - Keyboard-Navigation
    - Screen Reader Support
    - Kontrast-Optimierung
    - WCAG 2.1 Compliance

11.3 USER EXPERIENCE
--------------------
[ ] Loading-Indikatoren
[ ] Success/Error Messages
[ ] Bestätigungsdialoge
[ ] Shortcuts und Hotkeys
[ ] Auto-Save Funktionen

================================================================================
PHASE 12: TESTING & QUALITÄTSSICHERUNG (4-5 Tage)
================================================================================

12.1 UNIT TESTS
---------------
[ ] Service Tests
    - CustomerService Tests
    - InvoiceService Tests
    - PdfService Tests
    - EmailService Tests
    - ValidationService Tests

[ ] Repository Tests
    - CRUD Operations
    - Query Tests
    - Performance Tests

[ ] Utility Tests
    - VAT Calculation Tests
    - Numbering Service Tests
    - Date/Time Utilities

12.2 INTEGRATION TESTS
----------------------
[ ] Database Integration
    - Entity Framework Tests
    - Migration Tests
    - Seed Data Tests

[ ] API Tests (falls vorhanden)
    - Controller Tests
    - Authentication Tests
    - Authorization Tests

[ ] External Service Tests
    - E-Mail Service Integration
    - PDF Generation Integration

12.3 MANUAL TESTING
-------------------
[ ] End-to-End Workflows
    - Kunde anlegen → Rechnung erstellen → PDF → E-Mail
    - Benutzer-Registrierung und -verwaltung
    - Produktverwaltung Workflows

[ ] Edge Cases
    - Ungültige Eingaben
    - Netzwerkfehler
    - Concurrent Access
    - Large Data Sets

[ ] Performance Testing
    - Load Tests
    - Memory Usage
    - Database Performance
    - PDF Generation Performance

[ ] Security Testing
    - Authentication Tests
    - Authorization Tests
    - Input Validation
    - SQL Injection Prevention
    - XSS Prevention

[ ] Browser Testing
    - Chrome, Firefox, Edge
    - Mobile Browsers
    - Verschiedene Bildschirmauflösungen

================================================================================
PHASE 13: DEPLOYMENT & DOKUMENTATION (3-4 Tage)
================================================================================

13.1 PRODUCTION SETUP
----------------------
[ ] Production Configuration
    - appsettings.Production.json
    - Sichere Connection Strings
    - Logging Configuration
    - Error Handling

[ ] IIS Konfiguration
    - Application Pool Setup
    - URL Rewrite Rules
    - Security Headers
    - Gzip Compression

[ ] SSL Zertifikat
    - HTTPS erzwingen
    - Certificate Management
    - Auto-Renewal Setup

[ ] Backup-Strategie
    - Datenbank-Backups
    - Datei-Backups
    - Recovery-Procedures
    - Backup-Testing

13.2 MONITORING & LOGGING
--------------------------
[ ] Application Insights (optional)
[ ] Error Logging
    - Structured Logging
    - Log Levels
    - Log Rotation

[ ] Performance Monitoring
    - Response Times
    - Memory Usage
    - Database Performance

[ ] Health Checks
    - Database Connectivity
    - E-Mail Service
    - Disk Space
    - Memory Usage

13.3 DOKUMENTATION
-------------------
[ ] Benutzerhandbuch
    - Screenshots
    - Step-by-Step Anleitungen
    - FAQ
    - Troubleshooting

[ ] Administrator-Handbuch
    - Installation Guide
    - Konfiguration
    - Backup/Recovery
    - Wartung

[ ] Technical Documentation
    - Architecture Overview
    - Database Schema
    - API Documentation
    - Development Setup

[ ] Change Log
    - Version History
    - New Features
    - Bug Fixes
    - Breaking Changes

================================================================================
PHASE 14: SCHULUNG & GO-LIVE (2-3 Tage)
================================================================================

14.1 VORBEREITUNG
------------------
[ ] Schulungsmaterialien
    - Präsentationen
    - Hands-On Übungen
    - Video-Tutorials
    - Quick Reference Cards

[ ] Demo-Daten
    - Realistische Testdaten
    - Verschiedene Szenarien
    - Schulungsumgebung

[ ] FAQ und Support
    - Häufige Fragen sammeln
    - Support-Kontakte
    - Escalation-Prozess

14.2 DATENMIGRATION
-------------------
[ ] Datenexport aus altem System
[ ] Datenbereinigung
[ ] Import-Skripte erstellen
[ ] Testmigration durchführen
[ ] Validierung der migrierten Daten

14.3 GO-LIVE
------------
[ ] System in Produktion deployen
[ ] Benutzer schulen
    - Admin-Schulung
    - Endbenutzer-Schulung
    - Best Practices

[ ] Support während Einführung
    - Hotline-Support
    - On-Site Support (optional)
    - Quick-Fix Releases

[ ] System-Monitoring
    - Performance überwachen
    - Error-Monitoring
    - User Feedback sammeln

================================================================================
ZUSÄTZLICHE ÜBERLEGUNGEN
================================================================================

SICHERHEIT
----------
[ ] GDPR/DSGVO Compliance
    - Datenschutzerklärung
    - Cookie-Banner
    - Datenexport für Benutzer
    - Löschrecht implementieren

[ ] Backup und Recovery
    - Automatische Backups
    - Disaster Recovery Plan
    - Data Retention Policies

[ ] Security Hardening
    - Regular Security Updates
    - Penetration Testing
    - Security Headers
    - Rate Limiting

WARTUNG UND UPDATES
-------------------
[ ] Update-Strategie
    - Staging Environment
    - Blue-Green Deployment
    - Rollback-Procedures

[ ] Performance Optimization
    - Database Indexing
    - Caching Strategy
    - Static File Optimization

ZUKÜNFTIGE ERWEITERUNGEN
------------------------
[ ] Mobile App (optional)
[ ] API für Drittsysteme
[ ] Advanced Reporting
[ ] Multi-Mandanten-Fähigkeit
[ ] Workflow-Engine
[ ] Lagerverwaltung erweitert
[ ] CRM-Features
[ ] Integration Buchhaltungssoftware

================================================================================
ERFOLGS-KRITERIEN
================================================================================

TECHNISCHE KRITERIEN
--------------------
✓ System läuft stabil 24/7
✓ Response-Zeiten unter 2 Sekunden
✓ 99.9% Uptime
✓ Alle Tests laufen durch
✓ Security-Audit bestanden

BUSINESS KRITERIEN
------------------
✓ Benutzer können ohne Schulung grundlegende Aufgaben erledigen
✓ Rechnungserstellung dauert max. 5 Minuten
✓ PDF-Generation unter 3 Sekunden
✓ E-Mail-Versand funktioniert zuverlässig
✓ Datenexport in gängige Formate möglich

BENUTZER-FEEDBACK
-----------------
✓ Positive Bewertung von mindestens 80% der Benutzer
✓ Weniger als 5 Support-Tickets pro Woche nach Einführung
✓ System wird täglich produktiv genutzt

================================================================================
RESSOURCEN UND KONTAKTE
================================================================================

ENTWICKLUNGSTOOLS
------------------
- Visual Studio 2022 / VS Code
- SQL Server Management Studio
- Git (GitHub/Azure DevOps)
- Postman (API Testing)

EXTERNE SERVICES
-----------------
- E-Mail Provider (Gmail/Outlook/SendGrid)
- SSL Zertifikat Provider
- Backup Storage
- Domain Registration

SUPPORT KONTAKTE
----------------
- .NET Support: Microsoft Documentation
- QuestPDF: GitHub Issues
- MailKit: NuGet Package Documentation
- Bootstrap: Official Documentation

================================================================================
ENDE DES ARBEITSPLANS
================================================================================

Letzte Aktualisierung: 4. August 2025
Version: 1.0
Status: Bereit für Umsetzung

Nächste Schritte:
1. Git Repository auf GitHub erstellen
2. Development Environment finalisieren
3. Phase 2 (Datenbank & Modelle) beginnen

================================================================================
